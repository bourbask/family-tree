---
id: 8img6
title: Construction de l'arbre
file_version: 1.1.1
app_version: 1.1.5
---

<br/>

<br/>

TreeMaker commence par r√©cup√©rer la donn√©e et utiliser le param√®tre 'params' pour configurer notre arbre.

Ensuite, la base sur laquelle se reposera la structure est cr√©√©e.

Puis la donn√©e est utilis√©e pour alimenter la carte informative de chaque personnes. Si celle si n'est pas disponible, les valeurs par d√©faut provenant de la structure sont utilis√©es.

ConnectCard est ensuite appel√©e pour dessiner le tracer qui rejoindra chaque carte.
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### üìÑ src/index.js
```javascript
20     async function treeMaker(tree, params) {
21       let container = document.getElementById(params.id);
22       treeParamas = await getData();
23       if (params.link_width !== undefined) strokeWidth = params.link_width;
24       if (params.link_color !== undefined) strokeColor = params.link_color;
25     
26       // reset pathNumber and allLinks globals to allow on-click function to re-call treeMaker()
27       pathNumber = 1;
28       allLinks = [];
29     
30       // svg part
31       let svgDiv = document.createElement("div");
32       svgDiv.id = "tree__svg-container";
33       container.appendChild(svgDiv);
34       let svgContainer = document.createElementNS(
35         "http://www.w3.org/2000/svg",
36         "svg"
37       );
38       svgContainer.id = "tree__svg-container__svg";
39       svgDiv.appendChild(svgContainer);
40     
41       // html part
42       let treeContainer = document.createElement("div");
43       treeContainer.id = "tree__container";
44       container.appendChild(treeContainer);
45       let card = document.createElement("div");
46       card.classList = "tree__container__step__card";
47       card.id = "tree__container__step__card__first";
48       treeContainer.appendChild(card);
49       let name =
50         treeParamas[Object.keys(tree)[0]] !== undefined &&
51         treeParamas[Object.keys(tree)[0]].name !== undefined
52           ? treeParamas[Object.keys(tree)[0]].name
53           : Object.keys(tree)[0].name;
54       card.innerHTML =
55         '<p class="tree__container__step__card__p" id="card_' +
56         Object.keys(tree)[0] +
57         '">' +
58         name +
59         "</p>";
60     
61       addStyleToCard(treeParamas[Object.keys(tree)[0]], Object.keys(tree)[0]);
62     
63       iterate(
64         tree[Object.keys(tree)[0]],
65         true,
66         "tree__container__step__card__first"
67       );
68     
69       connectCard();
70     
71       window.onresize = function () {
72         svgDiv.setAttribute("height", "0");
73         svgDiv.setAttribute("width", "0");
74         connectCard();
75       };
76     }
```

<br/>

<br/>

<br/>

L'utilisation de treeMaker() n√©cessite deux param√®tres :

1.  Le premier sert √† l'organisation de la structure arborescente ;
    
2.  Le second √† param√©trer le rendu.
    

La source de donn√©es, elle, n'est pas encore param√©trable.
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### üìÑ index.html
```html
14           let tree = {
15             0: {
16               16: {
17                 5: "",
18                 4: {
19                   1: "",
20                   2: "",
21                   3: "",
22                 },
23               },
24               17: {
25                 4: "",
26                 5: "",
27               },
28               18: {
29                 6: {
30                   1: "",
31                   2: "",
32                   3: "",
33                 },
34                 7: "",
35                 8: { 9: "" },
36               },
37               19: {
38                 6: "",
39                 7: "",
40                 8: "",
41               },
42               14: { 10: "", 11: { 12: "", 13: "" } },
43               15: { 10: "", 11: "" },
44             },
45           };
46     
47           treeMaker(tree, {
48             id: "family-tree",
49             link_width: "4px",
50             link_color: "#2199e8",
51           });
```

<br/>

<br/>

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBZmFtaWx5LXRyZWUlM0ElM0Fib3VyYmFzaw==/docs/8img6).
